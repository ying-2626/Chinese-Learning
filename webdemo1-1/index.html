<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>声动汉语</title>
    <link rel="stylesheet" href="./styles/index.css">
    <link rel="icon" href="./img/side_logo.png">

    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.1.0/github-markdown-light.min.css">

    <!-- Config -->
    <script src="js/config.js"></script>
    <script src="js/services/scoreService.js"></script>

    <!-- Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/xml-js@1.6.11/dist/xml-js.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/crypto-js@4.1.1/crypto-js.min.js"></script>
    <script src="dist/index.umd.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/recordrtc@5.6.2/RecordRTC.min.js"></script>

    <style>
        @media (max-width: 767px) {
            body {
                padding: 15px;
            }
        }

        body {
            box-sizing: border-box;
            min-width: 200px;
            max-width: 980px;
            margin: 0 auto;
            padding: 45px;
            font-family: Arial, sans-serif;
            background-color: #f4f4f9;
        }

        /* Ensure sidebar styles work with dynamic content */
        .side-container {
            /* Styles should be in index.css, but verifying layout */
        }
    </style>
</head>

<body>
    <!-- 侧边导航栏 -->
    <div class="side-container" id="sidebar"></div>
    <!-- 侧边导航栏结束 -->

    <!-- 主体内容 -->
    <div class="main-container">
        <!-- 语音测评页面 -->
        <div class="module speech-evaluation" id="speech-evaluation" style="display:none;">
            <div id="evalText" contenteditable="true"
                style="width: 500px; height: 130px; font-size: 16px; padding: 10px; border: 2px solid #007bff; border-radius: 5px; outline: none; transition: border 0.3s; box-sizing: border-box; background-color: White; margin-top: 30px; overflow: auto;">
                输入你想要朗读的内容
            </div>

            <br><br>

            <label><input type="radio" name="group" checked> 读汉字</label>
            <label><input type="radio" name="group"> 读句子</label>
            <label><input type="radio" name="group"> 读段落</label>

            <br><br><br>

            <button id="btn_control"
                style="padding: 6px 20px; font-size: 16px; border: none; border-radius: 5px; background-color: #007bff; color: white; cursor: pointer;">开始录音</button>

            <div class="output-box" id="result_output">
                <br />
                <div style="display: flex; gap: 20px; align-items: stretch;">
                    <!-- 评分框 -->
                    <div class="left" style="border: 3px solid #007bff; padding: 20px; border-radius: 15px; 
    box-shadow: 2px 2px 10px #cccccc; width: 300px; background-color: #f7f7f7;
    display: flex; flex-direction: column; justify-content: space-between; min-height: 150px;">

                        <p style="padding-bottom: 10px; margin: 0; color: #333; font-size: 18px;">
                            准确度：<span id="accuracy_score" style="font-weight: bold; color: #007bff;">0</span>
                        </p>
                        <p style="padding-bottom: 10px; margin: 0; color: #333; font-size: 18px;">
                            流畅度：<span id="fluency_score" style="font-weight: bold; color: #007bff;">0</span>
                        </p>
                        <p style="padding-bottom: 10px; margin: 0; color: #333; font-size: 18px;">
                            完整度：<span id="integrity_score" style="font-weight: bold; color: #007bff;">0</span>
                        </p>
                        <p id="initial_score_wrapper"
                            style="padding-bottom: 10px; margin: 0; color: #333; font-size: 18px;">
                            声母分：<span id="initial_score" style="font-weight: bold; color: #007bff;">0</span>
                        </p>
                        <p id="final_score_wrapper"
                            style="padding-bottom: 10px; margin: 0; color: #333; font-size: 18px;">
                            韵母分：<span id="final_score" style="font-weight: bold; color: #007bff;">0</span>
                        </p>
                        <p id="tone_score_wrapper"
                            style="padding-bottom: 10px; margin: 0; color: #333; font-size: 18px;">
                            声调分：<span id="tone_score" style="font-weight: bold; color: #007bff;">0</span>
                        </p>
                        <p style="padding-bottom: 10px; margin: 0; color: #333; font-size: 18px;">
                            总分：<span id="total_score" style="font-weight: bold; color: #007bff;">0</span>
                        </p>
                    </div>

                    <textarea class="suggestion-box" readonly style="border: 3px solid #007bff; padding: 20px; border-radius: 15px; 
            box-shadow: 2px 2px 10px #cccccc; width: 300px; background-color: #f7f7f7; 
            font-size: 16px; color: #333; min-height: 150px; flex-grow: 1;">
改进建议：
                </textarea>
                </div>

                <!-- Hidden helper for parser -->
                <div id="right" style="display:none;">
                    <div id="result"></div>
                </div>
            </div>
        </div>

        <!-- Voice板块 -->
        <div class="module voice" id="voice" style="display:none;">
            <iframe src="https://www.light4ai.com/sentio/7bf25f70-fc9f-4d25-8fb9-ce24dd281346"
                style="width: 100%; min-height: 700px; border: none;" allow="microphone">
            </iframe>
        </div>

        <!-- Chatbot板块 -->
        <div class="module chatbot2" id="chat-bot" style="display:none;">
            <div class="input-container">
                <div class="pleaseinput" style="display:none;">请输入你的问题</div>
                <textarea cols="30" rows="5" class="chat-input" placeholder="Please input your question..."></textarea>
                <img src="img/纸飞机（灰色版）.png" alt="">
            </div>
            <div class="cover-container"></div>
            <div class="chat-item">
                <div class="message ai-message" id="start-message">
                    <div class="p1">
                        请输入你的问题，输入问题后，AI将给出答案
                    </div>
                </div>
            </div>
        </div>

        <!-- Magic Tool板块 -->
        <div class="module magic-tool2" id="magic-tool" style="display:none;">
            <div class="tool-cover"></div>
            <div class="toolchoice">
                <div class="toolchoice1">
                    <div class="toolchoice11">
                        <div class="toolchoice111">MagicTools</div>
                    </div>
                </div>
                <div class="toolchoice2">
                    <button><img src="img/icon-all.png" alt=""> All</button>
                    <button>Planning</button>
                    <button>Content</button>
                    <button>Questions</button>
                    <button>Intellectual Prep</button>
                    <button>Student Support</button>
                    <button>Communication</button>
                    <button>Community Tools</button>
                    <button>Admin</button>
                </div>
            </div>
            <div class="AllTools">
                <div class="tools Tool1" onclick="window.location.href='https://typing-word.ttentau.top'">
                    <img src="SVG/单词本.svg" alt="">
                    <div class="text-container">
                        <div class="h1p">单词本</div>
                        <div class="h2p">根据您学习的主题提供HSK 1-6级中文单词的记背和检测</div>
                    </div>
                </div>
                <div class="tools Content">
                    <img src="SVG/演讲家.svg" alt="">
                    <div class="text-container">
                        <div class="h1p">演讲家</div>
                        <div class="h2p">基于您需要的话题和要求，进行AI生成的演讲稿撰写</div>
                    </div>
                </div>
                <div class="tools Questions">
                    <img src="SVG/语法.svg" alt="">
                    <div class="text-container">
                        <div class="h1p">语法家</div>
                        <div class="h2p">为您讲解语法点，纠正您句子中的语法错误</div>
                    </div>
                </div>
                <div class="tools Intellectual Prep">
                    <img src="SVG/阅读.svg" alt="">
                    <div class="text-container">
                        <div class="h1p">阅读家</div>
                        <div class="h2p">提供不同难度的阅读材料</div>
                    </div>
                </div>
                <div class="tools Intellectual Prep">
                    <img src="SVG/文化.svg" alt="">
                    <div class="text-container">
                        <div class="h1p">文化家</div>
                        <div class="h2p">提供中国文化相关的知识</div>
                    </div>
                </div>
                <div class="tools Intellectual Prep">
                    <img src="SVG/中外互译.svg" alt="">
                    <div class="text-container">
                        <div class="h1p">中外互译</div>
                        <div class="h2p">提供中外互译功能</div>
                    </div>
                </div>
                <div class="tools Intellectual Prep">
                    <img src="SVG/写作生成.svg" alt="">
                    <div class="text-container">
                        <div class="h1p">写作生成</div>
                        <div class="h2p">提供写作生成功能</div>
                    </div>
                </div>
                <div class="tools Intellectual Prep">
                    <img src="SVG/朗读.svg" alt="">
                    <div class="text-container">
                        <div class="h1p">朗读家</div>
                        <div class="h2p">提供朗读功能</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- History 板块 (Placeholder if needed) -->
        <div class="module history" id="history" style="display:none;">
            <h2>历史聊天记录</h2>
            <p>暂无记录</p>
        </div>

        <!-- Love 板块 (Placeholder) -->
        <div class="module love" id="love" style="display:none;"></div>

    </div>

    <!-- Modules Scripts -->
    <script src="js/components/Sidebar.js"></script>
    <script src="js/modules/Chatbot.js"></script>
    <script src="js/modules/SpeechEval.js"></script>
    <script src="js/modules/MagicTool.js"></script>
    <script src="js/modules/History.js"></script>
    <script src="js/modules/Love.js"></script>

    <!-- Main Script -->
    <script src="js/index.js"></script>
</body>

</html>